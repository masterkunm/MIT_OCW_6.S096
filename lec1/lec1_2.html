<!DOCTYPE html>
    <html>
    <head>
        <meta charset="UTF-8">
        <title>Introduction to C: memroy and the compiler / Subtleties of C</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css" integrity="sha384-yFRtMMDnQtDRO8rLpMIKrtPCD5jdktao2TV19YiZYWMDkUR5GQZR/NOVTdquEx1j" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
        <link href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css" rel="stylesheet" type="text/css">
        <style>
.task-list-item { list-style-type: none; } .task-list-item-checkbox { margin-left: -20px; vertical-align: middle; }
</style>
        <style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        
        <script src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script>
    </head>
    <body class="vscode-light">
        <h1 id="introduction-to-c-memroy-and-the-compiler--subtleties-of-c">Introduction to C: memroy and the compiler / Subtleties of C</h1>
<h2 id="pointer"><strong>pointer</strong></h2>
<h3 id="how-do-you-get-at-this-information-about-memory">How do you get at this information about memory?</h3>
<p>Through pointer;</p>
<p>&amp; and * operators</p>
<pre><code class="language-cpp"><div><span class="hljs-keyword">int</span> a = <span class="hljs-number">5</span>;
<span class="hljs-keyword">int</span> *ptra = &amp;a;
</div></code></pre>
<p>read declarations from right to left( *ptra is declared to be of type int )</p>
<p>apply &amp; to any addressable value (&quot;lvalue&quot;)</p>
<pre><code class="language-cpp"><div><span class="hljs-keyword">return</span> &amp;<span class="hljs-number">5</span>;
<span class="hljs-comment">// error: lvalue required as unary '&amp;' operand</span>
</div></code></pre>
<h2 id="speed"><strong>speed</strong></h2>
<ol>
<li>
<p>C is focused on speed -&gt; always checking arr bounds/memory access would slow you down;</p>
</li>
<li>
<p>simple typo below, can cause corruption;</p>
</li>
</ol>
<pre><code class="language-cpp"><div><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt;= N; i++) {}
</div></code></pre>
<ol start="3">
<li>memory corruption can cause totally unexpected, hard to debug behavior at worst; at best: segmentation fault(core dumped);</li>
</ol>
<h2 id="memory"><strong>memory</strong></h2>
<blockquote>
<p>“I promise to always free each chunk of memory that I allocate.” Don’t be the cause of memory leaks! It’s a bad practice.</p>
</blockquote>
<h2 id="array-indexing"><strong>array indexing</strong></h2>
<p>C doesn't know what an array is.</p>
<p>T array[] and T *array are both pointers to a contiguous chunks of memory.</p>
<pre><code class="language-cpp"><div><span class="hljs-keyword">int</span> <span class="hljs-built_in">array</span>[<span class="hljs-number">10</span>];
<span class="hljs-comment">// Initialize</span>
<span class="hljs-keyword">for</span>( <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; ++i ) {
  <span class="hljs-built_in">array</span>[i] = i;
}
<span class="hljs-comment">// Does the exact same thing as above</span>
<span class="hljs-keyword">for</span>( <span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; ++i ) {
  *( <span class="hljs-built_in">array</span> + i ) = i;
}
</div></code></pre>
<h2 id="float-point"><strong>float point</strong></h2>
<p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo>=</mo><mo stretchy="false">(</mo><mo>−</mo><mn>1</mn><msup><mo stretchy="false">)</mo><mtext>sign</mtext></msup><mo>⋅</mo><mo stretchy="false">(</mo><mn>1.</mn><msub><mi>m</mi><mn>22</mn></msub><msub><mi>m</mi><mn>21</mn></msub><msub><mi>m</mi><mn>20</mn></msub><mo>…</mo><msub><mi>m</mi><mn>0</mn></msub><mo stretchy="false">)</mo><mo>⋅</mo><msup><mn>2</mn><mrow><mi>e</mi><mo>−</mo><mtext>bias</mtext></mrow></msup></mrow><annotation encoding="application/x-tex">x = (-1)^\text{sign} \cdot (1 . m_{22} m_{21} m_{20} \ldots m_0) \cdot 2^{e - \text{bias}}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.130502em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">−</span><span class="mord">1</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.880502em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord text mtight"><span class="mord mtight">sign</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mord">.</span><span class="mord"><span class="mord mathdefault">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">2</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathdefault">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner">…</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord"><span class="mord mathdefault">m</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8991079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8991079999999999em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight">e</span><span class="mbin mtight">−</span><span class="mord text mtight"><span class="mord mtight">bias</span></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>where bias is, in our case, 127;</p>
<p><img src="file:////Users/zhongwei/Documents/Develop/coding_is_awosome/MIT/6.S096/src/Screen%20Shot%202020-05-02%20at%2011.35.41%20am.png" alt="32bit fl"></p>
<ul>
<li>
<p>sign = 0, m21 = 1, e = 124;</p>
</li>
<li>
<p>pow = e - bias = -3; 2^(-3) = 0.125;</p>
</li>
<li>
<p>franction = 2^(-m21m22) = 2^(-2) = 0.25;</p>
</li>
</ul>
<p><img src="file:////Users/zhongwei/Documents/Develop/coding_is_awosome/MIT/6.S096/src/Screen%20Shot%202020-05-02%20at%2011.35.48%20am.png" alt="64bit double"></p>

    </body>
    </html>